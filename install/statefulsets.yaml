apiVersion: apps/v1
kind: StatefulSet
metadata:
  name: client-gateway
  labels:
    app: client-gateway
spec:
  serviceName: "client-gateway"
  selector:
    matchLabels:
      app: client-gateway
  replicas: 1
  template:
    metadata:
      labels:
        app: client-gateway
    spec:
      containers:
        - name: client-gateway
          image: nginx
          imagePullPolicy: IfNotPresent
---
apiVersion: apps/v1
kind: StatefulSet
metadata:
  name: trading-engine
  labels:
    app: trading-engine
spec:
  serviceName: "trading-engine"
  selector:
    matchLabels:
      app: trading-engine
  replicas: 1
  template:
    metadata:
      labels:
        app: trading-engine
    spec:
      containers:
        - name: trading-engine
          image: nginx
          imagePullPolicy: IfNotPresent
---
apiVersion: apps/v1
kind: StatefulSet
metadata:
  name: risk-controller
  labels:
    app: risk-controller
spec:
  serviceName: "risk-controller"
  selector:
    matchLabels:
      app: risk-controller
  replicas: 1
  template:
    metadata:
      labels:
        app: risk-controller
    spec:
      containers:
        - name: risk-controller
          image: nginx
          imagePullPolicy: IfNotPresent
---
apiVersion: apps/v1
kind: StatefulSet
metadata:
  name: exchange-gateway
  labels:
    app: exchange-gateway
spec:
  serviceName: "exchange-gateway"
  selector:
    matchLabels:
      app: exchange-gateway
  replicas: 1
  template:
    metadata:
      labels:
        app: exchange-gateway
    spec:
      containers:
        - name: exchange-gateway
          image: nginx
          imagePullPolicy: IfNotPresent

